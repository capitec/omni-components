{% set currentUrl %}{{ page.url }}{% endset %}

<nav class="menu">
    <div class="menu-container">
        <div class="menu-item {% if currentUrl === '/' %}selected{% endif %}">
            <a class="menu-link {% if currentUrl === '/' %}selected{% endif %}" {% if currentUrl === '/' %}aria-current="page"{% endif %} href="./">Home</a>
        </div>
        <div class="menu-item {% if currentUrl === '/getting-started/' %}selected{% endif %}">
            <a class="menu-link {% if currentUrl === '/getting-started/' %}selected{% endif %}" {% if currentUrl === '/getting-started/' %}aria-current="page"{% endif %} href="./getting-started/">Getting Started</a>
        </div>
        <div class="menu-item {% if currentUrl === '/theme-support/' %}selected{% endif %}">
            <a class="menu-link {% if currentUrl === '/theme-support/' %}selected{% endif %}" {% if currentUrl === '/theme-support/' %}aria-current="page"{% endif %} href="./theme-support/">Theme Support</a>
        </div>
        <div class="menu-item {% if currentUrl === '/contributing/' %}selected{% endif %}">
            <a class="menu-link {% if currentUrl === '/contributing/' %}selected{% endif %}" {% if currentUrl === '/contributing/' %}aria-current="page"{% endif %} href="./contributing/">Contributing</a>
        </div>
        <div class="menu-item separator"><div class="line"></div></div>
        {% for component in components %}
        <div class="menu-item {% if currentUrl.endsWith((component.name | splitPascalCase()  | slugify ) + '/') %}selected{% endif %}">
            <a class="menu-link {% if currentUrl.endsWith((component.name | splitPascalCase()  | slugify ) + '/') %}selected{% endif %}"
            {% if currentUrl.includes(component.name | splitPascalCase()  | slugify) %}aria-current="page"{% endif %} 
            href="./components/{{ component.name | splitPascalCase()  | slugify }}">
                {{ component.name | splitPascalCase() }}
            </a>
        </div>
        {%- endfor %}
    </div>
</nav>